## 0004: Blueprint de Implementação ( Design )

Este documento define as especificações técnicas para a refatoração do sistema de renderização. O foco aqui é a estrutura e as assinaturas que garantem a elevação semântica.

### 1. Infraestrutura: Elevação da `sak::point`
A `sak::point` deve ser expandida para suportar segurança de domínio via tipagem forte.
- **Tag de Domínio:** Introdução de um parâmetro de template `t_tag` para diferenciar pontos de pixel de pontos de célula em tempo de compilação.
- **Rigor de Construção:** Construtores devem ser explicitos e garantir que a geometria não seja misturada sem transformadores nomeados.
- **Operadores de Comparação:** Devem ser redefinidos para operar no nível do `point`, evitando ambiguidades com a base privada `std::array`.

### 2. Definições de Domínio TUI
O domínio TUI deve ser explicitamente dividido:
- **`pixel`**: Unidade mínima de desenho ( sub-célula ).
- **`cell_point`**: Coordenada de célula no terminal.
As ferramentas de tradução ( `to_cell`, `is_upper` ) devem ser puras e sem efeitos colaterais.

### 3. Alinhamento de Maquinaria
O terminal deixa de operar em coordenadas genéricas e passa a exigir `cell_point`, garantindo que apenas dados já traduzidos pelo renderizador cheguem à camada de exibição física.

### 4. Abstração de Acesso: `surface_view`
A `surface_view` atua como a tradutora entre a geometria 2D e o layout de memória linear.
- **Interface**: Acesso via `operator []( point )`.
- **Iteração**: Deve prover uma visão que retorne pares `( posição, dado )`, eliminando a necessidade de contadores manuais de linha e coluna durante a sincronização de buffers.