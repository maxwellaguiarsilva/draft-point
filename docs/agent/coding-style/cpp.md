#   Coding Style Guidelines for C++ Project

This document outlines the coding style conventions to be followed for this project.
The rules can be bypassed if a specific keyword is included in a single comment (e.g., `ignore-some-specific-rule`).


##  General Rules

##  1. **No Comments in Code Implementation:** Exemption keyword: `// ignore-no-comments-rule`.
    *   Code should be self-documenting.
    *   Avoid adding comments within the code's implementation logic.
    *   License headers and file description comments at the top of a file are permitted.

##  2. **Naming Convention:**
    *   All identifiers (variables, functions, classes, namespaces, macros, etc.) must use `snake_case`.
    *   Macros that include a numerical prefix (e.g., `__123456789_my_macro`) are permitted and are considered compliant with this rule.
    *   Use descriptive and unabbreviated names for identifiers (e.g., `index` instead of `i`, `width` instead of `w`, `height` instead of `h`).
    *   Class member variables must be prefixed with `m_`.
    *   `CamelCase`, `PascalCase`, `kebab-case`, or any other casing style is forbidden.
    *   Header guards must follow the `header_guard_<timestamp>` format and are automatically generated by the `create_class` tool. They should not be manually created or modified by the programmer or the LLM assistant.
    *   **Example (Good):**
        ```cpp
        int my_variable;
        void process_data( );
        class my_class;
        class my_other_class
        {
            int m_member_variable;
        };
        ```

##  3. **Parentheses and Brackets Spacing:** Always include a single space immediately after an opening parenthesis `(` or square bracket `[` and immediately before a closing parenthesis `)` or square bracket `]`.
    *   **Example (Good):**
        ```cpp
        if( condition )
            do_something( );
        auto my_value = my_array[ index ];
        ```

##  4. **Single-Line Control Structures:**
    *   For `if`, `for`, and `while` statements that contain only a single line of code, omit the curly braces `{}`.
    *   **Example (Good):**
        ```cpp
        if( condition )
            do_something( );
        for( init; condition; ++count )
            do_something_else( );
        while( condition )
            another_thing( );
        ```

##  5. **Increment/Decrement Operators:** Always prefer pre-increment (`++count`) over post-increment (`count++`) and pre-decrement (`--count`) over post-decrement (`--count`).
    *   **Example (Good):**
        ```cpp
        ++count;
        --count;
        ```

##  6. **Logical Operators:** Exemption keyword: `//  ignore-logical-operators-rule`
    *   Always use the keyword forms for all logical and relational operators (e.g., `not`, `and`, `or`, `not_eq`, `bitand`, `bitor`, `xor`, `compl`, `and_eq`, `or_eq`, `xor_eq`) instead of their symbolic counterparts (`!`, `&&`, `||`, `!=`, `&`, `|`, `^`, `~`, `&=`, `|=`, `^=`).
    *   **Example (Good):**
        ```cpp
        if( condition_a and not condition_b )
            do_something( );
        while( condition_c or condition_d )
            another_thing( );
        if( value not_eq 0 )
            handle_value( );
        ```

##  7. **`const` and `noexcept` for Non-Modifying Methods:**
    *   Methods that do not alter the object's state and do not throw exceptions must be marked with `const` and `noexcept`.
    *   **Example (Good):**
        ```cpp
        int get_value( ) const noexcept;
        ```

##  8. **Single-Line Method Definitions in .cpp Files:**
    *   This rule does not apply to constructors that utilize a member initializer list.
    *   In the `.cpp` file, if a method's implementation consists of only a single statement, its definition must be placed on the same line as the method signature.
    *   **Example (Good, in a .cpp file):**
        ```cpp
        bool my_class::is_enabled( ) const noexcept { return m_is_enabled; }
        ```

##  9. **`using` Clauses:**
    *   Use `using` clauses to avoid fully qualifying type names and functions.
    *   `using` clauses must always start from the global scope using `::`.
    *   `using` clauses must be indented with a single tab.
    *   **Example:**
        ```cpp
        using	::std::chrono::high_resolution_clock;
        // ...
        auto start_time = high_resolution_clock::now( );
        ```

##  10. **Static Variables:**
    *   Avoid using non-const static variables, especially in functions or methods, due to potential thread-safety issues and hidden dependencies. Prefer class member variables or passing state explicitly. Static `const` variables are permitted for defining compile-time constants or fixed values that are part of a class's interface, as they do not introduce thread-safety issues or hidden dependencies.


##  11. **Main Function Scope:**
    *   The `main` function must always contain an additional, explicit scope block `{}` immediately after its opening curly brace. This ensures that all stack-allocated objects within `main` have their destructors called before `main` exits, promoting predictable resource management.
    *   **This rule applies strictly to the `main` function.** All other functions, methods, and control structures must use standard single braces `{}` or no braces where permitted.
    *   **Example (Good):**
        ```cpp
        int main( )
        {{
            //  all main function logic here
        }}
        ```

##  12. **Header File Structure and Formatting:**
    *   A specific structure and formatting must be followed for header files to ensure consistency.
    *   **Namespace Declaration:**
        *   The opening curly brace `{` for a `namespace` must be on the same line as the `namespace` keyword. For other cases, it must be on a new line.
        *   Code within a `namespace` block must **not introduce an additional level of indentation** solely due to the namespace declaration. It should maintain the same indentation level as the surrounding code.
    *   **Example (Good):**
        ```cpp
        #pragma once
        #ifndef header_guard_...
        #define header_guard_...


        #include <some_header>


        namespace first_namespace {
        namespace second_namespace {

        //  no additional indentation here for content within the namespace
        using   ::std::string;
        
        
        class my_class
        {
        public:
            explicit my_class( );
            virtual ~my_class( );
            //  ...

        private:
            string  m_name;

        };


        }
        }   //  closing brace aligns with namespace keyword
        
        
        #endif
        ```
    *   **Example (Bad - for clarification):**
        ```cpp
        namespace my_namespace {
            //  this is incorrect: an extra indentation level is added here
            using ::std::string;    //  this is incorrect: space instead of tab after using word
        }
        ```

##  13. Validation.
    *   After producing any C++ code, perform a final validation to ensure all of the preceding items have been strictly followed.
    *   If any item is not in compliance with this document, inform the programmer of the problem and request permission to perform the adjustment.
    *   Perform the adjustment only after receiving explicit consent from the programmer.
    *   Do not consider the code to have been properly delivered until this validation is fully compliant.

##  14. Validation with cppcheck.
    *   After completing the previous validation, perform a new validation using the `check` tool.
        *   If the tool returns any message, even if not critical, explain the reason and the proposed solution.


